var FocusTrap=function(t){"use strict";const e=t=>Array.from(t.querySelectorAll('summary, a[href], button:not(:disabled), [tabindex]:not([tabindex^="-"]):not(focus-trap-start):not(focus-trap-end), [draggable], area, input:not([type=hidden]):not(:disabled), select:not(:disabled), textarea:not(:disabled), object, iframe'));class FocusTrap extends HTMLElement{static styleInjected=!1;constructor(){super(),this.trapStart=null,this.trapEnd=null,FocusTrap.styleInjected||(this.injectStyles(),FocusTrap.styleInjected=!0)}injectStyles(){const t=document.createElement("style");t.textContent="\n      focus-trap-start,\n      focus-trap-end {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        margin: -1px;\n        padding: 0;\n        border: 0;\n        clip: rect(0, 0, 0, 0);\n        overflow: hidden;\n        white-space: nowrap;\n      }\n    ",document.head.appendChild(t)}connectedCallback(){this.setupTrap(),this.addEventListener("keydown",this.handleKeyDown)}disconnectedCallback(){this.removeEventListener("keydown",this.handleKeyDown)}setupTrap(){0!==e(this).length&&(this.trapStart=document.createElement("focus-trap-start"),this.trapEnd=document.createElement("focus-trap-end"),this.prepend(this.trapStart),this.append(this.trapEnd),requestAnimationFrame((()=>{this.trapStart.focus()})))}handleKeyDown=t=>{"Escape"===t.key&&(t.preventDefault(),this.exitTrap())};exitTrap(){const t=this.closest('[aria-hidden="false"]');if(!t)return;t.setAttribute("aria-hidden","true");const e=document.querySelector(`[aria-expanded="true"][aria-controls="${t.id}"]`);e&&(e.setAttribute("aria-expanded","false"),e.focus())}}class FocusTrapStart extends HTMLElement{connectedCallback(){this.setAttribute("tabindex","0"),this.addEventListener("focus",this.handleFocus)}disconnectedCallback(){this.removeEventListener("focus",this.handleFocus)}handleFocus=t=>{const s=this.closest("focus-trap"),n=e(s);if(0===n.length)return;const a=n[0],r=n[n.length-1];t.relatedTarget===a?r.focus():a.focus()}}class FocusTrapEnd extends HTMLElement{connectedCallback(){this.setAttribute("tabindex","0"),this.addEventListener("focus",this.handleFocus)}disconnectedCallback(){this.removeEventListener("focus",this.handleFocus)}handleFocus=()=>{this.closest("focus-trap").querySelector("focus-trap-start").focus()}}return customElements.define("focus-trap",FocusTrap),customElements.define("focus-trap-start",FocusTrapStart),customElements.define("focus-trap-end",FocusTrapEnd),document.addEventListener("keydown",(function(t){if("Enter"!==t.key)return;const e=t.target.closest("[aria-controls]");if(!e)return;t.preventDefault();const s=e.getAttribute("aria-controls"),n=document.getElementById(s);if(!n)return;if(null!=n.show)return n.setTriggerElement(e),void n.show();const a=n.querySelector("focus-trap-start");a&&(e.setAttribute("aria-expanded","true"),n.setAttribute("aria-hidden","false"),requestAnimationFrame((()=>{a.focus()})))})),t.FocusTrap=FocusTrap,t.FocusTrapEnd=FocusTrapEnd,t.FocusTrapStart=FocusTrapStart,t.default=FocusTrap,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
